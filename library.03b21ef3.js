var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o),o("a9okJ"),o("ffWIR");var a=o("2shzp");document.addEventListener("DOMContentLoaded",(async function(){const e="watched",t="queue";async function n(e){try{return(await a.default.get(`https://api.themoviedb.org/3/movie/${e}`,{params:{api_key:"d1ba1e64f9d6a08c9b908b32af105306"}})).data.title}catch(e){return console.error("Error fetching movie details:",e),null}}function o(e,t,n){const o=(JSON.parse(localStorage.getItem(t))||[]).filter((t=>t!==e));localStorage.setItem(t,JSON.stringify(o)),("watchedListContainer"===n||"queueListContainer"===n)&&i(o,n)}async function i(a,i){const r=document.getElementById(i);if(!r)return void console.error(`Container with id ${i} not found.`);const l=r.querySelector("ol");l&&l.remove();const d=r.querySelector("h2")?.textContent||"";if(0===a.length){if(null===r.querySelector("p")){const e=document.createElement("p");e.textContent=`No ${d||"movies"} found.`,r.appendChild(e)}}else{const l=document.createElement("ol");for(let r=0;r<a.length;r++){const d=a[r],c=await n(Number(d));if(c){const n=document.createElement("li"),a=document.createElement("span");a.textContent=c,n.appendChild(a);const r=document.createElement("button");r.innerHTML="&#10006;",r.classList.add("remove-button"),r.addEventListener("mouseup",(n=>{n.stopPropagation();o(n.target.closest("li").getAttribute("movie-id"),"watchedListContainer"===i?e:t,i)})),n.appendChild(r),n.setAttribute("movie-id",d),l.appendChild(n)}}r.appendChild(l)}}const r=document.querySelector("[data-watched]"),l=document.querySelector("[data-queue]"),d=document.getElementById("watchedListContainer"),c=document.getElementById("queueListContainer");r&&l&&d&&c&&(r.classList.add("active"),d.style.display="block",c.style.display="none",r.addEventListener("click",(()=>{r.classList.add("active"),l.classList.remove("active"),d.style.display="block",c.style.display="none",i(JSON.parse(localStorage.getItem(e))||[],"watchedListContainer")})),l.addEventListener("click",(()=>{l.classList.add("active"),r.classList.remove("active"),c.style.display="block",d.style.display="none",i(JSON.parse(localStorage.getItem(t))||[],"queueListContainer")}))),r&&r.click()}));
//# sourceMappingURL=library.03b21ef3.js.map
